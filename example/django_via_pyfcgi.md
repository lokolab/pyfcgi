Django via Pyfcgi wrapper
=========================

- Testing environment:
  - Django (1.8.0, 1.9.5, 1.9.8), Python (2.7.6, 2.7.12, 3.4.3, 3.5.2),
    Apache (2.4.7, 2.4.23), Ubuntu (14.04)

Django is a web framework written in Python.
____________________________________________

Installing and configuring
--------------------------

First, install the "django" and the "lokolab.pyfcgi" packages:

    pip install django lokolab.pyfcgi

If locale error:

    export LC_ALL=C

Second, execute commands via shell.
If Python from source in the file "manage.py" change
the first line `#!/usr/bin...` to the correct path*:

    cd /home/someuser/public_html
    django-admin.py startproject myproj
    cd myproj
    ./manage.py startapp hello

Third, modify the file "... /myproj/hello/views.py":

    from django.http import HttpResponse

    def index(request):
        return HttpResponse('<h1>Index page</h1> generated by Django')

    def hello(request, name):
        return HttpResponse('<h1>Hello %s!</h1>' % name)

Fourth, modify the file "... /myproj/myproj/urls.py":

    from django.conf.urls import url

    urlpatterns = [
        # ex: /
        url(r'^$', 'hello.views.index'),
        # ex: /hello/your_name
        url(r'^hello/(?P<name>[a-z]+)$', 'hello.views.hello')
    ]

Fifth, create a file named ".htaccess" inside your
website’s document root "... /myproj/public/.htaccess"
and add the following lines:

    RewriteEngine on
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ app.py/$1 [QSA,L]

Sixth, create a file named "app.py" inside your
website’s document root "... /myproj/public/app.py"
and add the following lines*:

    import os
    import sys

    from django.core.wsgi import get_wsgi_application
    from lokolab.pyfcgi.server import PyfcgiServer

    # Example path: /home/someuser/public_html/myproj
    sys.path.insert(0, os.path.dirname(os.path.dirname(__file__)))

    os.environ['DJANGO_SETTINGS_MODULE'] = 'myproj.settings'

    app = get_wsgi_application()

    # Initializes application.
    pyfcgi_init = PyfcgiServer(app).run()

Finally, in the browser, enter `http://localhost/myproj/public`
or `http://localhost/myproj/public/hello/your_name`

________________________________________________________
[*] Paths and username should be modified to the server.

